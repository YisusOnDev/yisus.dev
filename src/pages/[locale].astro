---
import Layout from "../layouts/Layout.astro";
import SocialLink from "../components/SocialLink.astro";
import ProjectCard from "../components/ProjectCard.astro";
import projects from "../data/projects.json";
import experience from "../data/experience.json";
import categories from "../data/categories.json";
import skills from "../data/skills.json";
import { getTranslation } from "../i18n";

export async function getStaticPaths() {
  return [{ params: { locale: "es" } }, { params: { locale: "en" } }];
}

const { locale } = Astro.params;
const t = getTranslation(locale);

// Filter categories to only show those with projects
const categoriesWithProjects = categories.filter(category => 
  projects.some(project => 
    (project.category || 'others').toLowerCase() === category.id.toLowerCase()
  )
);
---

<Layout title="YisusTM_01 - Developer & Content Creator">
  <!-- Background Effects -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div
      class="absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl animate-pulse"
    >
    </div>
    <div
      class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse delay-1000"
    >
    </div>
    <div
      class="absolute top-1/2 left-1/2 w-64 h-64 bg-cyan-500/10 rounded-full blur-3xl animate-pulse delay-500"
    >
    </div>
  </div>

  <!-- Navigation -->
  <nav
    class="fixed top-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-lg border-b border-cyan-500/30"
  >
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <div
          class="text-lg md:text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent"
        >
          YisusTM_01
        </div>

        <!-- Desktop Menu -->
        <div class="hidden md:flex space-x-8">
          <button
            onclick="window.scrollToSection('home')"
            class="nav-link text-cyan-400 hover:text-white transition-colors"
          >
            {t.nav.home}
          </button>
          <button
            onclick="window.scrollToSection('social')"
            class="nav-link text-gray-400 hover:text-cyan-400 transition-colors"
          >
            {t.nav.social}
          </button>
          <button
            onclick="window.scrollToSection('projects')"
            class="nav-link text-gray-400 hover:text-cyan-400 transition-colors"
          >
            {t.nav.projects}
          </button>
          <button
            onclick="window.scrollToSection('experience')"
            class="nav-link text-gray-400 hover:text-cyan-400 transition-colors"
          >
            {t.nav.experience}
          </button>
          <button
            onclick="window.scrollToSection('contact')"
            class="nav-link text-gray-400 hover:text-cyan-400 transition-colors"
          >
            {t.nav.contact}
          </button>
        </div>

        <!-- Mobile Menu Button -->
        <button
          onclick="window.toggleMobileMenu()"
          class="md:hidden flex items-center justify-center w-10 h-10 rounded-lg border border-cyan-500/30 hover:border-cyan-400 transition-colors"
          id="mobile-menu-button"
        >
          <svg
            class="w-5 h-5 text-cyan-400"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>

      <!-- Mobile Menu -->
      <div
        id="mobile-menu"
        class="md:hidden absolute top-16 left-0 right-0 bg-black/95 backdrop-blur-lg border-b border-cyan-500/30 transform -translate-y-full opacity-0 transition-all duration-300 pointer-events-none"
      >
        <div class="px-4 py-6 space-y-4">
          <button
            onclick="window.scrollToSection('home'); window.closeMobileMenu()"
            class="block w-full text-left py-3 px-4 nav-link text-cyan-400 hover:text-white hover:bg-cyan-500/10 rounded-lg transition-all"
          >
            {t.nav.home}
          </button>
          <button
            onclick="window.scrollToSection('social'); window.closeMobileMenu()"
            class="block w-full text-left py-3 px-4 nav-link text-gray-400 hover:text-cyan-400 hover:bg-cyan-500/10 rounded-lg transition-all"
          >
            {t.nav.social}
          </button>
          <button
            onclick="window.scrollToSection('projects'); window.closeMobileMenu()"
            class="block w-full text-left py-3 px-4 nav-link text-gray-400 hover:text-cyan-400 hover:bg-cyan-500/10 rounded-lg transition-all"
          >
            {t.nav.projects}
          </button>
          <button
            onclick="window.scrollToSection('experience'); window.closeMobileMenu()"
            class="block w-full text-left py-3 px-4 nav-link text-gray-400 hover:text-cyan-400 hover:bg-cyan-500/10 rounded-lg transition-all"
          >
            {t.nav.experience}
          </button>
          <button
            onclick="window.scrollToSection('contact'); window.closeMobileMenu()"
            class="block w-full text-left py-3 px-4 nav-link text-gray-400 hover:text-cyan-400 hover:bg-cyan-500/10 rounded-lg transition-all"
          >
            {t.nav.contact}
          </button>
        </div>
      </div>
    </div>
  </nav>

  <main class="relative z-10 pt-16">
    <!-- Hero Section -->
    <section
      id="home"
      class="min-h-screen flex items-center justify-center relative"
    >
      <div class="text-center space-y-8 px-4">
        <!-- Profile Image with Cyberpunk Effect -->
        <div class="relative mx-auto w-48 h-48 mb-8">
          <div
            class="absolute inset-0 rounded-full bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 p-1"
          >
            <div
              class="w-full h-full rounded-full bg-black flex items-center justify-center"
            >
              <div
                class="w-40 h-40 rounded-full bg-gradient-to-br from-cyan-400 to-purple-600 flex items-center justify-center"
              >
                <img
                  src="/images/profile.jpg"
                  alt="YisusTM_01 Profile"
                  class="w-full h-full rounded-full object-cover"
                />
              </div>
            </div>
          </div>
          <div
            class="absolute -inset-4 rounded-full border border-cyan-500/50 animate-pulse"
          >
          </div>
          <div
            class="absolute -inset-8 rounded-full border border-blue-500/30 animate-pulse delay-300"
          >
          </div>
        </div>

        <div class="space-y-4">
          <h1
            class="text-4xl sm:text-6xl md:text-8xl font-black bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent"
          >
            YisusTM_01
          </h1>
          <div class="text-lg sm:text-2xl md:text-3xl text-gray-300 font-light">
            <span class="text-cyan-400">&lt;</span>
            {t.hero.subtitle}
            <span class="text-cyan-400">/&gt;</span>
          </div>
          <p
            class="text-base sm:text-lg text-gray-400 max-w-2xl mx-auto leading-relaxed px-4"
          >
            {t.hero.description}
          </p>
        </div>

        <!-- Glitch Effect Text -->
        <div class="mt-12 px-4">
          <button
            onclick="window.scrollToSection('social')"
            class="group relative inline-flex items-center px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-cyan-600 to-blue-600 rounded-lg font-semibold text-base sm:text-lg hover:from-cyan-500 hover:to-blue-500 transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-cyan-500/25"
          >
            <span class="mr-2">{t.hero.cta}</span>
            <svg
              class="w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </button>
        </div>
      </div>
    </section>

    <!-- Social Links Section -->
    <section id="social" class="py-20 relative">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold mb-4">
            <span class="text-cyan-400">[</span>
            <span
              class="bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent"
              >{t.social.title}</span
            >
            <span class="text-cyan-400">]</span>
          </h2>
          <p class="text-gray-400 text-lg">
            {t.social.subtitle}
          </p>
        </div>

        <div class="grid gap-6 max-w-2xl mx-auto">
          <SocialLink
            name={t.social.links.github.name}
            url="https://github.com/YisusOnDev"
            icon="github"
          />

          <SocialLink
            name={t.social.links.twitch.name}
            url="https://twitch.tv/YisusTM_01"
            icon="twitch"
          />

          <SocialLink
            name={t.social.links.twitter.name}
            url="https://x.com/YisusTM_01"
            icon="twitter"
          />

          <SocialLink
            name={t.social.links.instagram.name}
            url="https://instagram.com/YisusTM_01"
            icon="instagram"
          />

          <SocialLink
            name={t.social.links.discord.name}
            url="https://discord.gg/xfMFFdtYvw"
            icon="discord"
          />
        </div>
      </div>
    </section>

    <!-- Projects Section -->
    <section
      id="projects"
    >
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold mb-4">
            <span class="text-blue-400">⟨</span>
            <span
              class="bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent"
              >{t.projects.title}</span
            >
            <span class="text-blue-400">⟩</span>
          </h2>
          <p class="text-gray-400 text-lg">
            {t.projects.subtitle}
          </p>
        </div>

        <!-- Category Tabs -->
        <div class="flex justify-center mb-12">
          <div class="flex flex-wrap justify-center gap-2 p-1 bg-gray-800/50 rounded-xl border border-cyan-500/20">
            {categoriesWithProjects.map(category => (
              <button
                class={`px-4 py-2 rounded-lg font-medium transition-all duration-300 ${
                  category.default
                    ? 'bg-cyan-500 text-black shadow-lg shadow-cyan-500/25'
                    : 'text-gray-400 hover:text-cyan-400 hover:bg-cyan-500/10'
                }`}
                data-category={category.id}
                onclick={`filterProjects('${category.id}')`}
              >
                {typeof category.name === 'string' ? category.name : category.name[locale as 'es' | 'en'] || category.name.es}
              </button>
            ))}
          </div>
        </div>

        <!-- Projects Grid -->
        <div id="projects-grid" class="grid lg:grid-cols-2 gap-8">
          {
            projects.map(project => (
              <div data-category={project.category || 'others'} class="project-card">
                <ProjectCard
                  title={project.title}
                  description={project.description}
                  tech={project.tech}
                  image={project.image}
                  liveUrl={project.liveUrl || undefined}
                  githubUrl={project.githubUrl || undefined}
                  locale={locale}
                  date={project.date}
                />
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Experience Section -->
    <section id="experience" class="py-20">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold mb-4">
            <span class="text-purple-400">⟨</span>
            <span
              class="bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent"
              >{t.experience.title}</span
            >
            <span class="text-purple-400">⟩</span>
          </h2>
          <p class="text-gray-400 text-lg">
            {t.experience.subtitle}
          </p>
        </div>

        <div class="max-w-4xl mx-auto">
          <!-- Timeline -->
                    <!-- Timeline -->
          <div class="relative" id="experience-timeline">
            <div
              class="absolute left-1/2 transform -translate-x-0.5 w-0.5 bg-gradient-to-b from-cyan-500 via-blue-500 to-purple-500"
              id="timeline-line"
            >
            </div>

            <!-- Experience Items -->
            {
              experience.map((item, index) => {
                const isRight = item.position === 'right';
                const isFreelance = index === 0;
                const isCreator = index === 1;
                const isDeveloper = index === 2;

                return (
                  <div class={`relative flex items-center experience-item ${index < experience.length - 1 ? 'mb-12' : ''}`} data-index={index}>
                    {isRight ? (
                      <>
                        <div class="flex-1 pr-8 text-right">
                          <div class={`bg-gradient-to-l ${isFreelance ? 'from-blue-900/50' : isDeveloper ? 'from-cyan-900/50' : 'from-purple-900/50'} to-transparent p-6 rounded-l-xl border-l-2 ${isFreelance ? 'border-blue-500' : isDeveloper ? 'border-cyan-500' : 'border-purple-500'}`}>
                            <h3 class={`text-xl font-bold ${isFreelance ? 'text-blue-400' : isDeveloper ? 'text-cyan-400' : 'text-purple-400'} mb-2`}>
                              {typeof item.title === 'string' ? item.title : item.title[locale as keyof typeof item.title] || item.title.es}
                            </h3>
                            <p class="text-gray-300 mb-2">
                              {item.period}
                            </p>
                            <p class="text-gray-400">
                              {typeof item.description === 'string' ? item.description : item.description[locale as keyof typeof item.description] || item.description.es}
                            </p>
                          </div>
                        </div>
                        <div class={`w-4 h-4 ${isFreelance ? 'bg-blue-500' : isDeveloper ? 'bg-cyan-500' : 'bg-purple-500'} rounded-full border-4 border-black z-10`}></div>
                        <div class="flex-1 pl-8"></div>
                      </>
                    ) : (
                      <>
                        <div class="flex-1 pr-8"></div>
                        <div class={`w-4 h-4 ${isCreator ? 'bg-purple-500' : 'bg-blue-500'} rounded-full border-4 border-black z-10`}></div>
                        <div class="flex-1 pl-8">
                          <div class={`bg-gradient-to-r ${isCreator ? 'from-purple-900/50' : 'from-blue-900/50'} to-transparent p-6 rounded-r-xl border-r-2 ${isCreator ? 'border-purple-500' : 'border-blue-500'}`}>
                            <h3 class={`text-xl font-bold ${isCreator ? 'text-purple-400' : 'text-blue-400'} mb-2`}>
                              {typeof item.title === 'string' ? item.title : item.title[locale as keyof typeof item.title] || item.title.es}
                            </h3>
                            <p class="text-gray-300 mb-2">
                              {item.period}
                            </p>
                            <p class="text-gray-400">
                              {typeof item.description === 'string' ? item.description : item.description[locale as keyof typeof item.description] || item.description.es}
                            </p>
                          </div>
                        </div>
                      </>
                    )}
                  </div>
                );
              })
            }

          <!-- Skills -->
          <div class="mt-20">
            <h3
              class="text-2xl font-bold text-center mb-8 bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent"
            >
              {t.experience.skills}
            </h3>
            <div class="flex flex-wrap justify-center gap-4">
              {
                skills.map((tech) => (
                  <span class="px-4 py-2 bg-gradient-to-r from-gray-800 to-gray-700 border border-cyan-500/30 text-cyan-300 rounded-lg text-sm font-medium hover:border-cyan-400/50 transition-colors">
                    {tech}
                  </span>
                ))
              }
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 relative">
      <div class="container mx-auto px-4 text-center">
        <div class="mb-16">
          <h2 class="text-4xl font-bold mb-4">
            <span class="text-cyan-400">/*</span>
            <span
              class="bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent"
              >{t.contact.title}</span
            >
            <span class="text-cyan-400">*/</span>
          </h2>
          <p class="text-gray-400 text-lg max-w-2xl mx-auto">
            {t.contact.subtitle}
          </p>
        </div>

        <div class="max-w-md mx-auto space-y-6">
          <a
            href="mailto:contact@yisus.dev"
            class="block group relative overflow-hidden bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 rounded-xl p-6 transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-cyan-500/25"
          >
            <div class="flex items-center justify-center space-x-3">
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                ></path>
              </svg>
              <span class="text-xl font-semibold">contact@yisus.dev</span>
            </div>
          </a>

          <div class="text-gray-400 text-sm">
            <p>{t.contact.response_time}</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer
    class="bg-gradient-to-t from-black to-gray-900 border-t border-cyan-500/30 py-12 relative overflow-hidden"
  >
    <div
      class="absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-transparent to-purple-500/5"
    >
    </div>
    <div class="container mx-auto px-4 text-center relative z-10">
      <div class="mb-6">
        <div
          class="text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent mb-2"
        >
          YisusTM_01
        </div>
        <p class="text-gray-400">
          {t.footer.copyright}
        </p>
      </div>
    </div>
  </footer>

  <script type="text/javascript">
    window.scrollToSection = function (sectionId, opts = {}) {
      const element = document.getElementById(sectionId);
      if (!element) return;

      const offset = opts.offset ?? 80;
      const duration = opts.duration ?? 700;

      const startY = window.scrollY || window.pageYOffset;
      const targetY = Math.round(
        element.getBoundingClientRect().top + startY - offset,
      );
      const distance = targetY - startY;

      document.body.classList.add("scrolling");
      element.classList.add("section-targeted");

      function ease(t) {
        return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
      }

      let startTime = null;
      function step(time) {
        if (!startTime) startTime = time;
        const elapsed = time - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const y = Math.round(startY + distance * ease(progress));
        window.scrollTo(0, y);

        if (progress < 1) {
          requestAnimationFrame(step);
        } else {
          setTimeout(() => {
            element.classList.remove("section-targeted");
          }, 600);
          document.body.classList.remove("scrolling");
        }
      }

      requestAnimationFrame(step);
    };

    window.toggleMobileMenu = function () {
      const mobileMenu = document.getElementById("mobile-menu");
      const button = document.getElementById("mobile-menu-button");

      if (mobileMenu.classList.contains("pointer-events-none")) {
        mobileMenu.classList.remove(
          "pointer-events-none",
          "-translate-y-full",
          "opacity-0",
        );
        mobileMenu.classList.add("translate-y-0", "opacity-100");
        button.innerHTML =
          '<svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>';
      } else {
        window.closeMobileMenu();
      }
    };

    window.closeMobileMenu = function () {
      const mobileMenu = document.getElementById("mobile-menu");
      const button = document.getElementById("mobile-menu-button");

      mobileMenu.classList.add(
        "pointer-events-none",
        "-translate-y-full",
        "opacity-0",
      );
      mobileMenu.classList.remove("translate-y-0", "opacity-100");
      button.innerHTML =
        '<svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>';
    };

    function updateActiveNavLink() {
      const sections = ["home", "social", "projects", "experience", "contact"];
      const navLinks = document.querySelectorAll(".nav-link");

      let currentSection = "";
      sections.forEach((sectionId) => {
        const section = document.getElementById(sectionId);
        if (section) {
          const sectionTop = section.offsetTop - 100;
          if (window.scrollY >= sectionTop) {
            currentSection = sectionId;
          }
        }
      });

      navLinks.forEach((link, index) => {
        link.classList.remove("text-cyan-400");
        link.classList.add("text-gray-400");
        if (sections[index] === currentSection) {
          link.classList.remove("text-gray-400");
          link.classList.add("text-cyan-400");
        }
      });
    }

    function handleClickOutside(event) {
      const mobileMenu = document.getElementById("mobile-menu");
      const button = document.getElementById("mobile-menu-button");

      if (
        !mobileMenu.contains(event.target) &&
        !button.contains(event.target)
      ) {
        window.closeMobileMenu();
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      window.addEventListener("scroll", updateActiveNavLink);
      document.addEventListener("click", handleClickOutside);
      updateActiveNavLink();

      // Adjust timeline line height dynamically
      adjustTimelineLineHeight();
      window.addEventListener("resize", adjustTimelineLineHeight);

      // Initialize project filtering with default category
      const defaultCategory = document.querySelector('[data-category][onclick*="filterProjects"]');
      if (defaultCategory) {
        const categoryId = defaultCategory.dataset.category;
        window.filterProjects(categoryId);
      }
    });

    // Project filtering functionality
    window.filterProjects = function(categoryId) {
      // Update active tab
      const tabs = document.querySelectorAll('[data-category][onclick*="filterProjects"]');
      tabs.forEach(tab => {
        if (tab.dataset.category === categoryId) {
          tab.classList.remove('text-gray-400', 'hover:text-cyan-400', 'hover:bg-cyan-500/10');
          tab.classList.add('bg-cyan-500', 'text-black', 'shadow-lg', 'shadow-cyan-500/25');
        } else {
          tab.classList.remove('bg-cyan-500', 'text-black', 'shadow-lg', 'shadow-cyan-500/25');
          tab.classList.add('text-gray-400', 'hover:text-cyan-400', 'hover:bg-cyan-500/10');
        }
      });

      // Filter project cards
      const projectCards = document.querySelectorAll('.project-card');
      projectCards.forEach(card => {
        const cardCategory = card.dataset.category;
        if (cardCategory === categoryId) {
          card.style.display = '';
          card.classList.add('animate-fade-in');
        } else {
          card.style.display = 'none';
        }
      });
    };

    function adjustTimelineLineHeight() {
      const timeline = document.getElementById("experience-timeline");
      const timelineLine = document.getElementById("timeline-line");

      if (!timeline || !timelineLine) return;

      // Find all timeline dots
      const timelineDots = timeline.querySelectorAll(".w-4.h-4.rounded-full");

      if (timelineDots.length === 0) return;

      // Get the first and last dots
      const firstDot = timelineDots[0];
      const lastDot = timelineDots[timelineDots.length - 1];

      // Calculate positions relative to the timeline container
      const timelineRect = timeline.getBoundingClientRect();
      const firstDotRect = firstDot.getBoundingClientRect();
      const lastDotRect = lastDot.getBoundingClientRect();

      // Calculate the line start position (center of first dot)
      const firstDotCenter = firstDotRect.top + firstDotRect.height / 2 - timelineRect.top;

      // Calculate the line end position (center of last dot)
      const lastDotCenter = lastDotRect.top + lastDotRect.height / 2 - timelineRect.top;

      // Set the line height and position
      const lineHeight = lastDotCenter - firstDotCenter;
      timelineLine.style.height = `${lineHeight}px`;
      timelineLine.style.top = `${firstDotCenter}px`;
    }
  </script>
</Layout>

<style>
  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin-slow {
    animation: spin-slow 8s linear infinite;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-in-out;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    background: #1a1a1a;
  }

  ::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #06b6d4, #3b82f6);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #0891b2, #2563eb);
  }

  /* Scroll-to-section highlight */
  .section-targeted {
    position: relative;
    transition:
      box-shadow 420ms cubic-bezier(0.22, 0.9, 0.36, 1),
      transform 420ms cubic-bezier(0.22, 0.9, 0.36, 1);
    box-shadow:
      0 6px 30px rgba(59, 130, 246, 0.12),
      0 0 30px rgba(6, 182, 212, 0.06) inset;
    transform: translateY(-6px) scale(1.01);
    z-index: 5;
    border-radius: 12px;
  }

  /* Disable pointer events while programmatic scrolling to avoid accidental clicks */
  body.scrolling * {
    pointer-events: auto;
  }

  /* small pulsing glow for targeted sections */
  .section-targeted::after {
    content: "";
    position: absolute;
    inset: -6px;
    border-radius: 14px;
    background: radial-gradient(
      closest-side,
      rgba(6, 182, 212, 0.06),
      transparent 60%
    );
    opacity: 0.95;
    pointer-events: none;
    animation: section-glow 1.1s ease-out forwards;
  }

  @keyframes section-glow {
    0% {
      transform: scale(0.98);
      opacity: 0;
    }
    40% {
      transform: scale(1.02);
      opacity: 1;
    }
    100% {
      transform: scale(1.01);
      opacity: 0;
    }
  }
</style>
